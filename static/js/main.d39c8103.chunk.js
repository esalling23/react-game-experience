(this["webpackJsonpgame-exp-react"]=this["webpackJsonpgame-exp-react"]||[]).push([[0],{88:function(e,n,t){},95:function(e,n,t){"use strict";t.r(n);var a,i,r,o,c,s,u,l,b,f,d,p=t(1),m=t.n(p),g=t(79),j=t.n(g),h=(t(88),t(71)),O=t(15),w=t(12),v=t(13),x=t(35),y=t(96),k=t(97),C=function(e){return Math.floor(Math.random()*e)},S=function(){return C(2)<1},z=t(3),M=["future-engine.wav","machine-glitch.wav","traveling.wav","time-machine.wav","vibrating-engine.wav"].map((function(e){return"".concat("./audio/sfx/spaceship/").concat(e)})),T=Object(v.a)(y.a.img)(a||(a=Object(w.a)(["\n    height: 4em;\n    position: absolute;\n    top: 4em;\n    width: auto;\n    z-index: 1;\n"]))),F={flying:{y:[0,20,0],rotate:[0,5,20,10,0]},landed:{y:[0,5,0],transition:{repeat:1/0}}},E=function(){var e=Object(p.useMemo)((function(){return new x.Howl({src:[M[C(M.length-1)]],volume:.25})}),[]),n=Object(p.useState)(!0),t=Object(O.a)(n,2),a=t[0],i=t[1];return Object(p.useEffect)((function(){a?(e.play(),e.fade(0,1,400)):(e.fade(e.volume(),0,400),e.once("fade",(function(){return e.stop()})))}),[e,a]),Object(z.jsx)(T,{layoutId:"spaceship",variants:F,initial:"flying",animate:a?"flying":"landed",transition:{duration:1},src:"./images/ufo.png",onAnimationComplete:function(){a&&i(!1)}})},I=Object(v.a)(y.a.div)(i||(i=Object(w.a)(["\n    align-items: center;\n    display: flex;\n    height: 50%;\n    margin: 1rem;\n    max-height: 20vw;\n    place-content: center;\n    position: relative;\n    text-align: center;\n    width: 30vw;\n\n    &:hover {\n        cursor: pointer;\n    }\n"]))),R=Object(v.a)(y.a.img)(r||(r=Object(w.a)(["\n    min-height: 8em;\n    z-index: 0;\n"]))),A=function(e){var n=e.img,t=e.handleClick,a=e.isSelected,i=e.name,r=Object(p.useState)(!1),o=Object(O.a)(r,2),c=o[0],s=o[1],u=Object(p.useState)(!1),l=Object(O.a)(u,2),b=l[0],f=l[1],d={bounce:{y:[-5,5],rotate:[-15,15],transition:{duration:.8,repeatType:"reverse",repeat:1/0,ease:"easeInOut"}},circle:{y:[0,-5,-15,-25,-30,-25,-15,-5,0],x:[0,10,15,10,0,-10,-15,-10,0],transition:{repeat:1/0,duration:.8,ease:"linear"}},settle:{y:[0,C(10),0],rotate:[C(-5),C(10)],transition:{repeat:1/0,repeatType:"reverse",duration:2,ease:"easeInOut",delay:C(3)}},zoom:{scale:1.2,transition:{duration:.6,ease:"backInOut"}}},m=Object(p.useCallback)((function(){return a?"bounce":c?"circle":"settle"}),[a,c]),g=Object(p.useCallback)((function(){return a?"zoom":"settle"}),[a]);return Object(z.jsxs)(I,{onClick:function(e){b||t(e)},"data-name":i,onTapStart:function(e){f(!0),t(e)},onMouseEnter:function(e){a||s(!0)},onMouseLeave:function(e){s(!1)},children:[Object(z.jsx)(R,{src:n,variants:d,initial:"settle",animate:"base"===i?g():m()}),a&&Object(z.jsx)(E,{})]})},H=t(98),D="/audio/sfx/stars/",L=["fairy-swoosh.wav","fire-swoosh.wav","future-swoosh.wav","sweeping-swoosh.wav"].map((function(e){return"".concat(D,"shooting/").concat(e)})),J=["fairy-flow.wav","flitter.wav","magic.wav"].map((function(e){return"".concat(D,"caught/").concat(e)})),B=Object(v.a)(y.a.img)(o||(o=Object(w.a)(["\n    height: 2.5em;\n    left: ",";\n    position: absolute;\n    top: ",";\n    width: 2.5em;\n    z-index: 10;\n"])),(function(e){return e.leftOffset}),(function(e){return e.topOffset})),N=function(e){var n=e.containerRef,t=e.top,a=e.left,i=e.destroy,r=e.destroyTime,o=e.size,c=Object(H.a)(),s=Object(p.useRef)(null),u=Object(p.useRef)(null),l=Object(p.useState)(!1),b=Object(O.a)(l,2),f=b[0],d=b[1],m=Object(p.useState)(!1),g=Object(O.a)(m,2),j=g[0],h=g[1],w=Object(p.useState)(!1),v=Object(O.a)(w,2),y=v[0],k=v[1],S=Object(p.useMemo)((function(){return new x.Howl({src:L[C(L.length-1)],rate:.25,volume:.05})}),[]),M=Object(p.useMemo)((function(){return new x.Howl({src:J[C(J.length-1)],rate:1.2,volume:.8})}),[]),T={shooting:{rotate:360,opacity:["0%","80%","100%","80%","0%"],times:[0,.1,.5,.8,1],x:window.innerWidth,y:window.innerHeight,transition:{duration:r}},caught:{scale:2,opacity:0,transition:{duration:.6}}},F=Object(p.useMemo)((function(){return{root:n.current,rootMargin:"0px",threshold:1}}),[n]),E=Object(p.useCallback)((function(e){Object(O.a)(e,1)[0].isIntersecting&&!y&&s.current&&(S.play(),k(!0))}),[y,s,S]);return Object(p.useEffect)((function(){var e=s.current,n=new IntersectionObserver(E,F);return e&&n.observe(e),function(){e&&n.unobserve(e)}}),[s,E,F]),Object(p.useEffect)((function(){j?(c.stop(),M.play(),S.fade(1,0,1e3),M.fade(0,1,500).fade(1,0,2e3),c.start("caught").then((function(){i(),clearTimeout(u.current)}))):f||(d(!0),c.start("shooting").then((function(){i(),clearTimeout(u.current)})))}),[j,c,i,f,M]),Object(p.useEffect)((function(){return u.current=setTimeout((function(){i()}),1e3*r),function(){clearTimeout(u.current)}}),[r,i]),Object(z.jsx)(B,{ref:s,leftOffset:a||"-100px",topOffset:t||"-100px",src:"small"===o?"/images/star_small.png":"/images/star_medium.png",variants:T,animate:c,onMouseEnter:function(e){return h(!0)}})},P=Object(v.a)(y.a.button)(c||(c=Object(w.a)(["\n    background: ",";\n    border: 0.16em solid rgba(255,255,255,0.35);\n    border-radius: 2em;\n    box-sizing: border-box;\n    color: #FFFFFF;\n    font-size: 2.8vw;\n    font-family: 'Roboto',sans-serif;\n    font-weight: 300;\n    flex-wrap: wrap;\n    height: 2em;\n    margin: 0.5em;\n    padding: 0.3em 1.2em;\n    position: relative;\n    text-decoration: none;\n    text-shadow: 0 0.04em 0.04em rgba(0,0,0,0.35);\n    text-align: center;\n    transition: all 0.2s;\n    z-index: 1;\n\n    &:hover {\n        border-color: ",";\n        cursor: pointer;\n        font-weight: bold;\n    }\n\n    @media(min-width: 768px) {\n        flex-wrap: no-wrap;\n        font-size: 1.9vw;\n    }\n"])),(function(e){return e.bgColor}),(function(e){return e.selected?e.bgColor:"white"})),_=function(e){var n=e.color,t=e.isSelected,a=e.onClick,i=e.onComplete;return Object(z.jsxs)(P,{bgColor:"transparent",selected:t,onClick:a,children:[t&&Object(z.jsx)(y.a.div,{layoutId:"btn-background",className:"btn-background",initial:!1,animate:{backgroundColor:n,borderColor:n},transition:{type:"spring",stiffness:500,damping:30},onAnimationComplete:i}),"Click Me"]})},G=1.1/10*-.5,W=Object(v.a)(y.a.div)(s||(s=Object(w.a)(["\n    background: ",";\n    display: flex;\n    height: 100%;\n    place-content: center;\n    width: 100%;\n    z-index: 100;\n"])),(function(e){return e.bgColor})),q=Object(v.a)(y.a.div)(u||(u=Object(w.a)(["\n    align-items: center;\n    display: flex;\n    flex-wrap: wrap;\n    margin: 0 auto;\n    place-content: center;\n    width: 75%;\n\n    @media(min-width: 768px) {\n        flex-wrap: nowrap;\n    }\n"]))),K=Object(v.a)(y.a.button)(l||(l=Object(w.a)(["\n    background: url('/images/white-close-btn.png');\n    background-repeat: no-repeat;\n    background-size: contain;\n    border: 0;\n    color: #fff;\n    display: inline-block;\n    font-family: Arial, sans-serif;\n    font-weight: 300;\n    height: ","rem;\n    left: 0;\n    margin: 1rem;\n    position: absolute;\n    top: 0;\n    width: ","rem;\n\n    &:hover {\n        cursor: pointer;\n    }\n"])),2,2),Q=["#ee4a4a","#bc74bb","#86aedf","#5bbe87","#ffb057"],U={open:{opacity:1,y:0,transition:{duration:.5,type:"spring",ease:"linear",bounce:.1,restDelta:.25}},closed:{height:0,opacity:0,y:"100%",transition:{delay:.2,type:"spring",stiffness:50,damping:10}}},V=function(e){var n=e.clearSelected,t=e.planetSelected,a=e.addStars,i=Object(p.useState)(Q[0]),r=Object(O.a)(i,2),o=r[0],c=r[1],s=Object(p.useState)(!1),u=Object(O.a)(s,2),l=u[0],b=u[1];return Object(p.useEffect)((function(){b("base"!==t)}),[t]),Object(z.jsxs)(W,{bgColor:"black",style:{height:"12em",width:"100%"},animate:l?"open":"closed",variants:U,onAnimationComplete:function(){return!l&&n()},children:[Object(z.jsx)(K,{whileHover:{rotate:90,scale:1.1,y:"".concat(G,"rem"),x:"".concat(G,"rem")},transition:{duration:.1},onClick:function(e){b(!1)}}),Object(z.jsx)(q,{variants:{open:{opacity:1,y:0},closed:{opacity:0,y:"100%"}},children:Object(z.jsx)(k.a,{children:Q.map((function(e){return Object(z.jsx)(_,{color:e,isSelected:o===e,onClick:function(){return c(e)},onComplete:a},e)}))})})]})},X=["Galactic-Renaissance.mp3","Jungle-Loop.mp3"].map((function(e){return"".concat("/audio/music/").concat(e)})),Y=["./images/planets/mars.png","/images/planets/jupiter.png","/images/planets/rings.png","/images/planets/moon.png","/images/planets/blue.png"],Z=v.a.div(b||(b=Object(w.a)(["\n    background-image: url(",");\n    background-size: cover;\n    background-repeat: no-repeat;\n    display: flex;\n    flex-direction: column;\n    height: 100vh;\n    overflow: hidden;\n    width: 100%;\n"])),"./images/background.jpg"),$=v.a.div(f||(f=Object(w.a)(["\n    align-content: space-evenly;\n    align-items: center;\n    box-sizing: border-box;\n    display: flex;\n    flex-wrap: wrap;\n    height: 100%;\n    justify-content: center;\n    padding: 3em 0;\n    width: 100%;\n"]))),ee=Object(v.a)(y.a.div)(d||(d=Object(w.a)(["\n    bottom: 0;\n    left: 0;\n    height: 100vh;\n    position: absolute;\n    width: 100vw;\n"]))),ne=function(){var e=Object(p.useState)([]),n=Object(O.a)(e,2),t=n[0],a=n[1],i=Object(p.useState)("base"),r=Object(O.a)(i,2),o=r[0],c=r[1],s=Object(p.useRef)(null),u=Object(p.useMemo)((function(){return new x.Howl({src:[X[C(X.length-1)]],loop:!0,volume:.75})}),[]),l=function(e){return a((function(e){var n=b(e);return n.pop(),n}))},b=function(e){return e.filter((function(e){return Math.abs(new Date-e.timestamp)<6e3}))},f=function(e){c(e.currentTarget.dataset.name)};return Object(p.useEffect)((function(){u.play(),u.fade(0,1,200)}),[u]),Object(z.jsxs)(Z,{children:[Object(z.jsx)(ee,{ref:s,height:"100%",children:t.map((function(e,n){return Object(z.jsx)(N,{top:e.top,left:e.left,size:e.size,destroyTime:e.speed,destroy:function(){return l(e.id)},containerRef:function(e){return s}},"star-".concat(n))}))}),Object(z.jsx)($,{children:Object(z.jsxs)(k.a,{children:[Y.map((function(e,n){var t="planet-".concat(n);return Object(z.jsx)(A,{img:Y[n],handleClick:f,name:t,isSelected:o===t},n)})),Object(z.jsx)(A,{img:"/images/planets/earth.png",handleClick:f,name:"base",isSelected:"base"===o},"base")]})}),Object(z.jsx)(V,{clearSelected:function(){return c("base")},planetSelected:o,addStars:function(){return a((function(e){var n=C(5)+3,t=Object(h.a)(new Array(n)).map((function(e){var n={speed:C(6)+6,size:S()?"small":"medium",timestamp:new Date},t=S()?"top":"left",a=C(40);return n[t]=a+"%",n})),a=b(e);return[].concat(Object(h.a)(a),Object(h.a)(t))}))},destroyStar:l})]})},te=function(){return Object(z.jsx)("div",{className:"App","data-testid":"app",children:Object(z.jsx)(ne,{})})},ae=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,99)).then((function(n){var t=n.getCLS,a=n.getFID,i=n.getFCP,r=n.getLCP,o=n.getTTFB;t(e),a(e),i(e),r(e),o(e)}))};j.a.render(Object(z.jsx)(m.a.StrictMode,{children:Object(z.jsx)(te,{})}),document.getElementById("root")),ae()}},[[95,1,2]]]);
//# sourceMappingURL=main.d39c8103.chunk.js.map